title: Start
tags:
---

// Misc. string variables
<<declare $playerResponse = "" as string>>
<<declare $gptResponse = "" as string>>
<<declare $player_name = "" as string>>
<<declare $player_intro = "" as string>>
<<declare $player_answer = "" as string>>
<<declare $gptOption1 = "" as string>>
<<declare $gptOption2 = "" as string>>
<<declare $gptOption3 = "" as string>>
<<declare $gptOption4 = "" as string>>
<<declare $gptOption5 = "" as string>>

<<declare $initial_state = "0_intro_proteinSynthesis" as string>>

// Research study
<<declare $debug = false as bool>>
<<declare $participant_id = "craftstest1" as string>>
<<declare $condition = "treatment" as string>>
<<declare $remote = false as bool>>

<<declare $protein_synthesis_topic = "" as string>>
<<declare $peer_tutor = "Yari" as string>>
<<declare $finished_scanning_nucleus = false as bool>>
<<declare $finished_scanning_ribosome = false as bool>>
<<declare $grade = "" as string>>

-> Start
<<hide_cover Cover>>


<<hide_scroll WebsocketManager true>>

<<set $remote to true>>
//-> Local
//    <<set $remote to false>>

<<if $remote == true>>
    <<connect_to_server WebsocketManager remote>>
<<else>>
    <<connect_to_server WebsocketManager>>
<<endif>>

Enter your participant ID number!
<<RequestInput InputPanel "Type in your participant ID!">>
-> Submit
<<SaveAndCloseInput InputPanel "$participant_id">>

What's your name?
<<RequestInput InputPanel "Type in your name!">> // accept player input
-> Submit
<<SaveAndCloseInput InputPanel "$player_name">>

What grade are you in?
-> 9th 
    <<set $grade to "9th">>
-> 10th
    <<set $grade to "10th">>
-> 11th
    <<set $grade to "11th">>
-> 12th
    <<set $grade to "12th">>

// select peer tutor
Select your peer tutor! 
<<LoadScene AvatarSelection>>
<<hide_static_elements DialogueCanvas true>>
-> Confirm
<<UnloadScene>>
<<hide_static_elements DialogueCanvas false>>
<<hide_scroll WebsocketManager false>>
<<update_character DialogueCanvas "$peer_tutor">>
// checks that player actually input something
// <<if $player_name is "">>
//    <<jump PlayerResponding>>
// <<endif>>


<<send_first_message WebsocketManager "$player_name" "$initial_state" "$participant_id" "$condition" "$grade" "$peer_tutor">>
<<jump SendingToServer>>

===
title: SendingToServer
---
// reset variables 
<<set $playerResponse to "">>
<<set $gptOption1 to "">>
<<set $gptOption2 to "">>
<<set $gptOption3 to "">>
<<set $gptOption4 to "">>
<<set $gptOption5 to "">>

// <<if $current_state == "6_portal">>
//     <<toggle_hide_images OliverThinking false>> // show oliver thinking
//     <<wait_for_message WebsocketManager>> // wait for responses to show up in queue
//     <<toggle_hide_images OliverThinking true>> // hide oliver thinking
// <<else>>
//     <<show_current_bubbles TwoCharacterDisplay>>
//     <<set_characters_idle TwoCharacterDisplay>>
    <<show_thinking_indicator DialogueCanvas>>
    <<wait_for_message WebsocketManager>> // wait for responses to show up in queue
    <<hide_thinking_indicator DialogueCanvas>>
//     <<hide_current_bubbles TwoCharacterDisplay>>
//     <<set_characters_not_idle TwoCharacterDisplay>>
// <<endif>>
<<jump GPTResponding>>
===


title: PlayerResponding
---
<<RequestInput InputPanel "What would you like to say?">> // accept player input
-> Submit
<<SaveAndCloseInput InputPanel "$playerResponse">>

// checks that player actually input something
<<if $playerResponse is "">>
    <<jump PlayerResponding>>
<<endif>>

<<send_player_message WebsocketManager "$playerResponse">> // send player's input to server
<<jump SendingToServer>>
===
title: GPTResponding
---
<<run_response WebsocketManager>> // dequeue next response
<<if $gptResponse != "">>
    <<if $gptResponse == "ACTION">> 
        <<jump {$actionNode}>>
    // <<elseif $gptResponse == "VISUAL">>
    //     <<run_response WebsocketManager>>
    //     <<show_visual_aid VisualAidCard "$image_to_display">>
    //     {$gptResponse} // card comes down with this line
    //     <<jump GPTResponding>>
    // <<elseif $gptResponse == "ALBUM_TUTORIAL">>
    //     <<jump AlbumTutorial>>
    // <<elseif $gptResponse == "LOG_TUTORIAL">>
    //    <<jump LogTutorial>>
    <<else>>
        <<wait_for_audio WebsocketManager>>
        <<play_voiceover WebsocketManager>>
        {$gptResponse}
        <<jump GPTResponding>>
    <<endif>>
<<else>> 
    // if there are options to present after, they will be shown to user
    <<if $gptOption1 != "" || $gptOption2 != "" || $gptOption3 != "" || $gptOption4 != "" || $gptOption5 != "">>
        -> {$gptOption1} <<if $gptOption1 != "">>
            <<send_player_message WebsocketManager "$gptOption1">>
            <<jump SendingToServer>>
        -> {$gptOption2} <<if $gptOption2 != "">>
            <<send_player_message WebsocketManager "$gptOption2">>
            <<jump SendingToServer>>
        -> {$gptOption3} <<if $gptOption3 != "">>
            <<send_player_message WebsocketManager "$gptOption3">>
            <<jump SendingToServer>>
        -> {$gptOption4} <<if $gptOption4 != "">>
            <<send_player_message WebsocketManager "$gptOption4">>
            <<jump SendingToServer>>
        -> {$gptOption5} <<if $gptOption5 != "">>
            <<send_player_message WebsocketManager "$gptOption5">>
            <<jump SendingToServer>>
    <<endif>>
    <<jump PlayerResponding>>
<<endif>>
===
title: ProteinSynthesisLabLactase
---
<<LoadScene ImageTargetTestCodon>>
<<set $protein_synthesis_topic to "lactase">>
<<set_sequence CodonManager "TACCCGGTGACCGAC">>
===

title: ProteinSynthesisLabHemoglobin
---
<<LoadScene ImageTargetTestCodon>>
<<set $protein_synthesis_topic to "hemoglobin">>
<<set_sequence CodonManager "TACCACGTGGACTGA">>
===

title: ProteinSynthesisLabInsulin
---
<<LoadScene ImageTargetTestCodon>>
<<set $protein_synthesis_topic to "insulin">>
<<set_sequence CodonManager "TACCTCGACAGAUGG">>
===

title: ProteinSynthesisLabMyosin
---
<<LoadScene ImageTargetTestCodon>>
<<set $protein_synthesis_topic to "myosin">>
<<set_sequence CodonManager "TACCACGTGCCGACC">>
===

title: ProteinSynthesisLabKeratin
---
<<LoadScene ImageTargetTestCodon>>
<<set $protein_synthesis_topic to "keratin">>
<<set_sequence CodonManager "TACCGGCCGGACACC">>
===

title: ProteinSynthesisLabImmunoglobulins
---
<<LoadScene ImageTargetTestCodon>>
<<set $protein_synthesis_topic to "immunoglobulins">>
<<set_sequence CodonManager "TACCTCCACGACTGA">>
===

title: ProteinSynthesisLabTyrosinase
---
<<LoadScene ImageTargetTestCodon>>
<<set $protein_synthesis_topic to "tyrosinase">>
<<set_sequence CodonManager "TACCCGGTGCTCAGA">>
===

title: ProteinSynthesisLabCytokines
---
<<LoadScene ImageTargetTestCodon>>
<<set $protein_synthesis_topic to "cytokines">>
<<set_sequence CodonManager "TACTGACACGACCCG">>
===

title: ProteinSynthesisLab
---
// <<LoadScene ImageTargetTestCodon>> // comment this out if needed
<<hide_background DialogueCanvas true>>
<<update_character DialogueCanvas "$peer_tutor">>
<<toggle_character_position DialogueCanvas true>>
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisLab_01>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisLab_01>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisLab_01>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisLab_01>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisLab_01>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisLab_01>>
<<endif>>
{$peer_tutor}: In this lab, you'll get some hands-on experience with the processes of transcription and translation.
<<if $peer_tutor == "Alex">>
    <<if $protein_synthesis_topic == "insulin">>
        <<play_voice AudioManager Alex_ProteinSynthesisLab_02_Insulin>>
    <<elseif $protein_synthesis_topic == "hemoglobin">>
        <<play_voice AudioManager Alex_ProteinSynthesisLab_02_Hemoglobin>>
    <<elseif $protein_synthesis_topic == "lactase">>
        <<play_voice AudioManager Alex_ProteinSynthesisLab_02_Lactase>>
    <<elseif $protein_synthesis_topic == "myosin">>
        <<play_voice AudioManager Alex_ProteinSynthesisLab_02_Myosin>>
    <<elseif $protein_synthesis_topic == "keratin">>
        <<play_voice AudioManager Alex_ProteinSynthesisLab_02_Keratin>>
    <<elseif $protein_synthesis_topic == "immunoglobulins">>
        <<play_voice AudioManager Alex_ProteinSynthesisLab_02_ImmunoglobulinsAntibodies>>
    <<elseif $protein_synthesis_topic == "tyrosinase">>
        <<play_voice AudioManager Alex_ProteinSynthesisLab_02_Tyrosinase>>
    <<elseif $protein_synthesis_topic == "cytokines">>
        <<play_voice AudioManager Alex_ProteinSynthesisLab_02_Cytokines>>
    <<endif>>
<<elseif $peer_tutor == "Yari">>
    <<if $protein_synthesis_topic == "insulin">>
        <<play_voice AudioManager Yari_ProteinSynthesisLab_02_Insulin>>
    <<elseif $protein_synthesis_topic == "hemoglobin">>
        <<play_voice AudioManager Yari_ProteinSynthesisLab_02_Hemoglobin>>
    <<elseif $protein_synthesis_topic == "lactase">>
        <<play_voice AudioManager Yari_ProteinSynthesisLab_02_Lactase>>
    <<elseif $protein_synthesis_topic == "myosin">>
        <<play_voice AudioManager Yari_ProteinSynthesisLab_02_Myosin>>
    <<elseif $protein_synthesis_topic == "keratin">>
        <<play_voice AudioManager Yari_ProteinSynthesisLab_02_Keratin>>
    <<elseif $protein_synthesis_topic == "immunoglobulins">>
        <<play_voice AudioManager Yari_ProteinSynthesisLab_02_ImmunoglobulinsAntibodies>>
    <<elseif $protein_synthesis_topic == "tyrosinase">>
        <<play_voice AudioManager Yari_ProteinSynthesisLab_02_Tyrosinase>>
    <<elseif $protein_synthesis_topic == "cytokines">>
        <<play_voice AudioManager Yari_ProteinSynthesisLab_02_Cytokines>>
    <<endif>>
<<elseif $peer_tutor == "Jessica">>
    <<if $protein_synthesis_topic == "insulin">>
        <<play_voice AudioManager Jessica_ProteinSynthesisLab_02_Insulin>>
    <<elseif $protein_synthesis_topic == "hemoglobin">>
        <<play_voice AudioManager Jessica_ProteinSynthesisLab_02_Hemoglobin>>
    <<elseif $protein_synthesis_topic == "lactase">>
        <<play_voice AudioManager Jessica_ProteinSynthesisLab_02_Lactase>>
    <<elseif $protein_synthesis_topic == "myosin">>
        <<play_voice AudioManager Jessica_ProteinSynthesisLab_02_Myosin>>
    <<elseif $protein_synthesis_topic == "keratin">>
        <<play_voice AudioManager Jessica_ProteinSynthesisLab_02_Keratin>>
    <<elseif $protein_synthesis_topic == "immunoglobulins">>
        <<play_voice AudioManager Jessica_ProteinSynthesisLab_02_ImmunoglobulinsAntibodies>>
    <<elseif $protein_synthesis_topic == "tyrosinase">>
        <<play_voice AudioManager Jessica_ProteinSynthesisLab_02_Tyrosinase>>
    <<elseif $protein_synthesis_topic == "cytokines">>
        <<play_voice AudioManager Jessica_ProteinSynthesisLab_02_Cytokines>>
    <<endif>>
<<elseif $peer_tutor == "Benji">>
    <<if $protein_synthesis_topic == "insulin">>
        <<play_voice AudioManager Benji_ProteinSynthesisLab_02_Insulin>>
    <<elseif $protein_synthesis_topic == "hemoglobin">>
        <<play_voice AudioManager Benji_ProteinSynthesisLab_02_Hemoglobin>>
    <<elseif $protein_synthesis_topic == "lactase">>
        <<play_voice AudioManager Benji_ProteinSynthesisLab_02_Lactase>>
    <<elseif $protein_synthesis_topic == "myosin">>
        <<play_voice AudioManager Benji_ProteinSynthesisLab_02_Myosin>>
    <<elseif $protein_synthesis_topic == "keratin">>
        <<play_voice AudioManager Benji_ProteinSynthesisLab_02_Keratin>>
    <<elseif $protein_synthesis_topic == "immunoglobulins">>
        <<play_voice AudioManager Benji_ProteinSynthesisLab_02_ImmunoglobulinsAntibodies>>
    <<elseif $protein_synthesis_topic == "tyrosinase">>
        <<play_voice AudioManager Benji_ProteinSynthesisLab_02_Tyrosinase>>
    <<elseif $protein_synthesis_topic == "cytokines">>
        <<play_voice AudioManager Benji_ProteinSynthesisLab_02_Cytokines>>
    <<endif>>
<<elseif $peer_tutor == "Isaiah">>
    <<if $protein_synthesis_topic == "insulin">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisLab_02_Insulin>>
    <<elseif $protein_synthesis_topic == "hemoglobin">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisLab_02_Hemoglobin>>
    <<elseif $protein_synthesis_topic == "lactase">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisLab_02_Lactase>>
    <<elseif $protein_synthesis_topic == "myosin">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisLab_02_Myosin>>
    <<elseif $protein_synthesis_topic == "keratin">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisLab_02_Keratin>>
    <<elseif $protein_synthesis_topic == "immunoglobulins">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisLab_02_ImmunoglobulinsAntibodies>>
    <<elseif $protein_synthesis_topic == "tyrosinase">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisLab_02_Tyrosinase>>
    <<elseif $protein_synthesis_topic == "cytokines">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisLab_02_Cytokines>>
    <<endif>>
<<elseif $peer_tutor == "Maya">>
    <<if $protein_synthesis_topic == "insulin">>
        <<play_voice AudioManager Maya_ProteinSynthesisLab_02_Insulin>>
    <<elseif $protein_synthesis_topic == "hemoglobin">>
        <<play_voice AudioManager Maya_ProteinSynthesisLab_02_Hemoglobin>>
    <<elseif $protein_synthesis_topic == "lactase">>
        <<play_voice AudioManager Maya_ProteinSynthesisLab_02_Lactase>>
    <<elseif $protein_synthesis_topic == "myosin">>
        <<play_voice AudioManager Maya_ProteinSynthesisLab_02_Myosin>>
    <<elseif $protein_synthesis_topic == "keratin">>
        <<play_voice AudioManager Maya_ProteinSynthesisLab_02_Keratin>>
    <<elseif $protein_synthesis_topic == "immunoglobulins">>
        <<play_voice AudioManager Maya_ProteinSynthesisLab_02_ImmunoglobulinsAntibodies>>
    <<elseif $protein_synthesis_topic == "tyrosinase">>
        <<play_voice AudioManager Maya_ProteinSynthesisLab_02_Tyrosinase>>
    <<elseif $protein_synthesis_topic == "cytokines">>
        <<play_voice AudioManager Maya_ProteinSynthesisLab_02_Cytokines>>
    <<endif>>
<<endif>>
{$peer_tutor}: Let's figure out how {$protein_synthesis_topic} is synthesized, starting from DNA located in the nucleus.
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisLab_03>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisLab_03>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisLab_03>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisLab_03>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisLab_03>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisLab_03>>
<<endif>>
<<add_todo Todos "scan_nucleus">>
<<set_intro_done CodonManager>>
{$peer_tutor}: First, scan the nucleus of the cell with your camera.
<<hide_canvas DialogueCanvas true>>
===

title: ProteinSynthesisDNATutorial
---
<<set_nucleus_dialogue_done CodonManager>>
<<hide_canvas DialogueCanvas false>>
<<if $peer_tutor == "Alex">>
    <<if $protein_synthesis_topic == "insulin">>
        <<play_voice AudioManager Alex_ProteinSynthesisDNATutorial_01_Insulin>>
    <<elseif $protein_synthesis_topic == "hemoglobin">>
        <<play_voice AudioManager Alex_ProteinSynthesisDNATutorial_01_Hemoglobin>>
    <<elseif $protein_synthesis_topic == "lactase">>
        <<play_voice AudioManager Alex_ProteinSynthesisDNATutorial_01_Lactase>>
    <<elseif $protein_synthesis_topic == "myosin">>
        <<play_voice AudioManager Alex_ProteinSynthesisDNATutorial_01_Myosin>>
    <<elseif $protein_synthesis_topic == "keratin">>
        <<play_voice AudioManager Alex_ProteinSynthesisDNATutorial_01_Keratin>>
    <<elseif $protein_synthesis_topic == "immunoglobulins">>
        <<play_voice AudioManager Alex_ProteinSynthesisDNATutorial_01_ImmunoglobulinsAntibodies>>
    <<elseif $protein_synthesis_topic == "tyrosinase">>
        <<play_voice AudioManager Alex_ProteinSynthesisDNATutorial_01_Tyrosinase>>
    <<elseif $protein_synthesis_topic == "cytokines">>
        <<play_voice AudioManager Alex_ProteinSynthesisDNATutorial_01_Cytokines>>
    <<endif>>
<<elseif $peer_tutor == "Yari">>
    <<if $protein_synthesis_topic == "insulin">>
        <<play_voice AudioManager Yari_ProteinSynthesisDNATutorial_01_Insulin>>
    <<elseif $protein_synthesis_topic == "hemoglobin">>
        <<play_voice AudioManager Yari_ProteinSynthesisDNATutorial_01_Hemoglobin>>
    <<elseif $protein_synthesis_topic == "lactase">>
        <<play_voice AudioManager Yari_ProteinSynthesisDNATutorial_01_Lactase>>
    <<elseif $protein_synthesis_topic == "myosin">>
        <<play_voice AudioManager Yari_ProteinSynthesisDNATutorial_01_Myosin>>
    <<elseif $protein_synthesis_topic == "keratin">>
        <<play_voice AudioManager Yari_ProteinSynthesisDNATutorial_01_Keratin>>
    <<elseif $protein_synthesis_topic == "immunoglobulins">>
        <<play_voice AudioManager Yari_ProteinSynthesisDNATutorial_01_ImmunoglobulinsAntibodies>>
    <<elseif $protein_synthesis_topic == "tyrosinase">>
        <<play_voice AudioManager Yari_ProteinSynthesisDNATutorial_01_Tyrosinase>>
    <<elseif $protein_synthesis_topic == "cytokines">>
        <<play_voice AudioManager Yari_ProteinSynthesisDNATutorial_01_Cytokines>>
    <<endif>>
<<elseif $peer_tutor == "Jessica">>
    <<if $protein_synthesis_topic == "insulin">>
        <<play_voice AudioManager Jessica_ProteinSynthesisDNATutorial_01_Insulin>>
    <<elseif $protein_synthesis_topic == "hemoglobin">>
        <<play_voice AudioManager Jessica_ProteinSynthesisDNATutorial_01_Hemoglobin>>
    <<elseif $protein_synthesis_topic == "lactase">>
        <<play_voice AudioManager Jessica_ProteinSynthesisDNATutorial_01_Lactase>>
    <<elseif $protein_synthesis_topic == "myosin">>
        <<play_voice AudioManager Jessica_ProteinSynthesisDNATutorial_01_Myosin>>
    <<elseif $protein_synthesis_topic == "keratin">>
        <<play_voice AudioManager Jessica_ProteinSynthesisDNATutorial_01_Keratin>>
    <<elseif $protein_synthesis_topic == "immunoglobulins">>
        <<play_voice AudioManager Jessica_ProteinSynthesisDNATutorial_01_ImmunoglobulinsAntibodies>>
    <<elseif $protein_synthesis_topic == "tyrosinase">>
        <<play_voice AudioManager Jessica_ProteinSynthesisDNATutorial_01_Tyrosinase>>
    <<elseif $protein_synthesis_topic == "cytokines">>
        <<play_voice AudioManager Jessica_ProteinSynthesisDNATutorial_01_Cytokines>>
    <<endif>>
<<elseif $peer_tutor == "Benji">>
    <<if $protein_synthesis_topic == "insulin">>
        <<play_voice AudioManager Benji_ProteinSynthesisDNATutorial_01_Insulin>>
    <<elseif $protein_synthesis_topic == "hemoglobin">>
        <<play_voice AudioManager Benji_ProteinSynthesisDNATutorial_01_Hemoglobin>>
    <<elseif $protein_synthesis_topic == "lactase">>
        <<play_voice AudioManager Benji_ProteinSynthesisDNATutorial_01_Lactase>>
    <<elseif $protein_synthesis_topic == "myosin">>
        <<play_voice AudioManager Benji_ProteinSynthesisDNATutorial_01_Myosin>>
    <<elseif $protein_synthesis_topic == "keratin">>
        <<play_voice AudioManager Benji_ProteinSynthesisDNATutorial_01_Keratin>>
    <<elseif $protein_synthesis_topic == "immunoglobulins">>
        <<play_voice AudioManager Benji_ProteinSynthesisDNATutorial_01_ImmunoglobulinsAntibodies>>
    <<elseif $protein_synthesis_topic == "tyrosinase">>
        <<play_voice AudioManager Benji_ProteinSynthesisDNATutorial_01_Tyrosinase>>
    <<elseif $protein_synthesis_topic == "cytokines">>
        <<play_voice AudioManager Benji_ProteinSynthesisDNATutorial_01_Cytokines>>
    <<endif>>
<<elseif $peer_tutor == "Isaiah">>
    <<if $protein_synthesis_topic == "insulin">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisDNATutorial_01_Insulin>>
    <<elseif $protein_synthesis_topic == "hemoglobin">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisDNATutorial_01_Hemoglobin>>
    <<elseif $protein_synthesis_topic == "lactase">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisDNATutorial_01_Lactase>>
    <<elseif $protein_synthesis_topic == "myosin">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisDNATutorial_01_Myosin>>
    <<elseif $protein_synthesis_topic == "keratin">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisDNATutorial_01_Keratin>>
    <<elseif $protein_synthesis_topic == "immunoglobulins">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisDNATutorial_01_ImmunoglobulinsAntibodies>>
    <<elseif $protein_synthesis_topic == "tyrosinase">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisDNATutorial_01_Tyrosinase>>
    <<elseif $protein_synthesis_topic == "cytokines">>
        <<play_voice AudioManager Isaiah_ProteinSynthesisDNATutorial_01_Cytokines>>
    <<endif>>
<<elseif $peer_tutor == "Maya">>
    <<if $protein_synthesis_topic == "insulin">>
        <<play_voice AudioManager Maya_ProteinSynthesisDNATutorial_01_Insulin>>
    <<elseif $protein_synthesis_topic == "hemoglobin">>
        <<play_voice AudioManager Maya_ProteinSynthesisDNATutorial_01_Hemoglobin>>
    <<elseif $protein_synthesis_topic == "lactase">>
        <<play_voice AudioManager Maya_ProteinSynthesisDNATutorial_01_Lactase>>
    <<elseif $protein_synthesis_topic == "myosin">>
        <<play_voice AudioManager Maya_ProteinSynthesisDNATutorial_01_Myosin>>
    <<elseif $protein_synthesis_topic == "keratin">>
        <<play_voice AudioManager Maya_ProteinSynthesisDNATutorial_01_Keratin>>
    <<elseif $protein_synthesis_topic == "immunoglobulins">>
        <<play_voice AudioManager Maya_ProteinSynthesisDNATutorial_01_ImmunoglobulinsAntibodies>>
    <<elseif $protein_synthesis_topic == "tyrosinase">>
        <<play_voice AudioManager Maya_ProteinSynthesisDNATutorial_01_Tyrosinase>>
    <<elseif $protein_synthesis_topic == "cytokines">>
        <<play_voice AudioManager Maya_ProteinSynthesisDNATutorial_01_Cytokines>>
    <<endif>>
<<endif>>
{$peer_tutor}: Nice! Do you see the DNA that popped up? Imagine this is the gene that codes for {$protein_synthesis_topic}.
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisDNATutorial_02>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisDNATutorial_02>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisDNATutorial_02>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisDNATutorial_02>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisDNATutorial_02>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisDNATutorial_02>>
<<endif>>
{$peer_tutor}: During transcription, a small portion of the DNA unwinds. One of the strands is used as a template to create mRNA.
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisDNATutorial_03>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisDNATutorial_03>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisDNATutorial_03>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisDNATutorial_03>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisDNATutorial_03>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisDNATutorial_03>>
<<endif>>
{$peer_tutor}: Your job is to figure out what the bases of this new mRNA strand should be!
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisDNATutorial_04>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisDNATutorial_04>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisDNATutorial_04>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisDNATutorial_04>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisDNATutorial_04>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisDNATutorial_04>>
<<endif>>
{$peer_tutor}: Arrange the codon cards on the table to form a nucleotide base sequence for the mRNA strand that matches the DNA template strand. Make sure to use the complementary bases!
<<add_todo Todos "arrange_cards">>
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisDNATutorial_05>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisDNATutorial_05>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisDNATutorial_05>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisDNATutorial_05>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisDNATutorial_05>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisDNATutorial_05>>
<<endif>>
{$peer_tutor}: Once you're done, press the "Finish transcription" button to generate your mRNA strand.
<<add_todo Todos "finish_transcription">>
<<hide_canvas DialogueCanvas true>>
===

title: ProteinSynthesisTranscriptionUnsuccessful
---
<<hide_canvas DialogueCanvas false>>
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisTranscriptionUnsuccessful_01>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisTranscriptionUnsuccessful_01>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisTranscriptionUnsuccessful_01>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisTranscriptionUnsuccessful_01>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisTranscriptionUnsuccessful_01>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisTranscriptionUnsuccessful_01>>
<<endif>>
{$peer_tutor}: It doesn't look like you've arranged all the codon cards yet. Make sure that your camera is tracking all the cards correctly. Let's try again!
<<hide_canvas DialogueCanvas true>>
===

title: ProteinSynthesisTranscriptionIncorrect
---
<<hide_canvas DialogueCanvas false>>
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisTranscriptionIncorrect_01>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisTranscriptionIncorrect_01>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisTranscriptionIncorrect_01>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisTranscriptionIncorrect_01>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisTranscriptionIncorrect_01>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisTranscriptionIncorrect_01>>
<<endif>>
{$peer_tutor}: Hmmm... I don't think you've transcribed the DNA correctly. Let's try again! 
<<hide_canvas DialogueCanvas true>>
===

title: ProteinSynthesisTranscriptionSuccessful
---
<<hide_canvas DialogueCanvas false>>
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisTranscriptionSuccessful_01>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisTranscriptionSuccessful_01>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisTranscriptionSuccessful_01>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisTranscriptionSuccessful_01>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisTranscriptionSuccessful_01>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisTranscriptionSuccessful_01>>
<<endif>>
{$peer_tutor}: Nice work! After the mRNA strand is made, it exits the nucleus and moves to a ribosome, where translation happens.
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisTranscriptionSuccessful_02>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisTranscriptionSuccessful_02>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisTranscriptionSuccessful_02>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisTranscriptionSuccessful_02>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisTranscriptionSuccessful_02>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisTranscriptionSuccessful_02>>
<<endif>>
{$peer_tutor}: Now, scan the ribosome with your camera.
<<add_todo Todos "scan_ribosome">>
<<hide_canvas DialogueCanvas true>>
===

title: ScanRibosome
---
<<hide_canvas DialogueCanvas false>>
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ScanRibosome_01>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ScanRibosome_01>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ScanRibosome_01>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ScanRibosome_01>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ScanRibosome_01>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ScanRibosome_01>>
<<endif>>
{$peer_tutor}: Make sure to scan the ribosome with your camera.
<<hide_canvas DialogueCanvas true>>
===

title: ProteinSynthesisReflection
---
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisReflection_01>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisReflection_01>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisReflection_01>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisReflection_01>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisReflection_01>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisReflection_01>>
<<endif>>
{$peer_tutor}: Congrats! You just made a protein!
<<wait 3>>
<<UnloadScene>>
<<hide_background DialogueCanvas false>>
<<hide_canvas DialogueCanvas false>>
<<toggle_character_position DialogueCanvas false>>

<<set $playerResponse to "">>
<<send_player_message WebsocketManager "$playerResponse">>
<<jump SendingToServer>>
===

title: ProteinSynthesisAminoAcidInput
---
<<hide_canvas DialogueCanvas false>>
<<hide_todo CodonManager>>
<<add_todo Todos "select_amino">>
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisAminoAcidInput_01>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisAminoAcidInput_01>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisAminoAcidInput_01>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisAminoAcidInput_01>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisAminoAcidInput_01>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisAminoAcidInput_01>>
<<endif>>
{$peer_tutor}: Great! Now let's figure out what amino acids we get from this mRNA strand.
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisAminoAcidInput_02>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisAminoAcidInput_02>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisAminoAcidInput_02>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisAminoAcidInput_02>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisAminoAcidInput_02>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisAminoAcidInput_02>>
<<endif>>
{$peer_tutor}: Grab your codon chart and use it to figure out which amino acids correspond to each codon.
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisAminoAcidInput_03>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisAminoAcidInput_03>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisAminoAcidInput_03>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisAminoAcidInput_03>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisAminoAcidInput_03>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisAminoAcidInput_03>>
<<endif>>
{$peer_tutor}: Once you're done, press the "Check amino acids" button to see if your amino acid sequence matches the codon sequence.
<<hide_canvas DialogueCanvas true>>
<<ToggleAminoAcidInput CodonManager true>>
===

title: ProteinSynthesisAminoAcidInputSuccessful
---
<<hide_canvas DialogueCanvas false>>
<<checkoff_todo Todos "select_amino">>
<<if $peer_tutor == "Alex">>
    <<play_voice AudioManager Alex_ProteinSynthesisAminoAcidInputSuccessful_01>>
<<elseif $peer_tutor == "Yari">>
    <<play_voice AudioManager Yari_ProteinSynthesisAminoAcidInputSuccessful_01>>
<<elseif $peer_tutor == "Jessica">>
    <<play_voice AudioManager Jessica_ProteinSynthesisAminoAcidInputSuccessful_01>>
<<elseif $peer_tutor == "Benji">>
    <<play_voice AudioManager Benji_ProteinSynthesisAminoAcidInputSuccessful_01>>
<<elseif $peer_tutor == "Isaiah">>
    <<play_voice AudioManager Isaiah_ProteinSynthesisAminoAcidInputSuccessful_01>>
<<elseif $peer_tutor == "Maya">>
    <<play_voice AudioManager Maya_ProteinSynthesisAminoAcidInputSuccessful_01>>
<<endif>>
{$peer_tutor}: Nice work! Now let's watch how the tRNA come in to form the amino acid sequence you created.
<<hide_canvas DialogueCanvas true>>
<<ToggleAminoAcidInput CodonManager false>>
<<show_todo CodonManager>>
<<start_trna CodonManager>>
===